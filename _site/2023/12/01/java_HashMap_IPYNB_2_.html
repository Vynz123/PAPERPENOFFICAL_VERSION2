<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Java, SQL HashMap Collection | Teacher 2.0</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="Java, SQL HashMap Collection" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Usage of HashMap, HashSet, Collection and combining definitions and usage with SQL" />
<meta property="og:description" content="Usage of HashMap, HashSet, Collection and combining definitions and usage with SQL" />
<link rel="canonical" href="http://localhost:4100/teacher_portfolio/2023/12/01/java_HashMap_IPYNB_2_.html" />
<meta property="og:url" content="http://localhost:4100/teacher_portfolio/2023/12/01/java_HashMap_IPYNB_2_.html" />
<meta property="og:site_name" content="Teacher 2.0" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-12-01T00:00:00-08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Java, SQL HashMap Collection" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-12-01T00:00:00-08:00","datePublished":"2023-12-01T00:00:00-08:00","description":"Usage of HashMap, HashSet, Collection and combining definitions and usage with SQL","headline":"Java, SQL HashMap Collection","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4100/teacher_portfolio/2023/12/01/java_HashMap_IPYNB_2_.html"},"url":"http://localhost:4100/teacher_portfolio/2023/12/01/java_HashMap_IPYNB_2_.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/teacher_portfolio/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4100/teacher_portfolio/feed.xml" title="Teacher 2.0" /><link rel="shortcut icon" type="image/x-icon" href="/teacher_portfolio/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/teacher_portfolio/">Teacher 2.0</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/teacher_portfolio/blogs/">Blogs</a><a class="page-link" href="/teacher_portfolio/search/">Search</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Java, SQL | HashMap | Collection</h1><p class="page-description">Usage of HashMap, HashSet, Collection and combining definitions and usage with SQL</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2023-12-01T00:00:00-08:00" itemprop="datePublished">
        Dec 1, 2023
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      6 min read
    
</span></p>

    

    </header>

  <div class="post-content e-content" itemprop="articleBody"><h2 id="lesson-ideas">Lesson Ideas</h2>
<p>Add to the basics of HasMap and HashSet below.  Go over storing elements in SQL like HashMap and Collection.</p>

<ul>
  <li>Include SQL elements JSONB with HashMap</li>
  <li>Include SQL ManyToMany relation with Collection</li>
</ul>

<p>Review addition materials like Roles and Activity Tracker <a href="https://nighthawkcoders.github.io/APCSA/1.b/2022/11/17/AP-frq2.html">https://nighthawkcoders.github.io/APCSA/1.b/2022/11/17/AP-frq2.html</a></p>

<p>Here are some SQL definitions in Person.java.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@ManyToMany</span><span class="o">(</span><span class="n">fetch</span> <span class="o">=</span> <span class="no">EAGER</span><span class="o">)</span>
<span class="kd">private</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">PersonRole</span><span class="o">&gt;</span> <span class="n">roles</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

<span class="cm">/* HashMap is used to store JSON for daily "stats"
"stats": {
    "2022-11-13": {
        "calories": 2200,
        "steps": 8000
    }
}
*/</span>
<span class="nd">@JdbcTypeCode</span><span class="o">(</span><span class="nc">SqlTypes</span><span class="o">.</span><span class="na">JSON</span><span class="o">)</span>
<span class="nd">@Column</span><span class="o">(</span><span class="n">columnDefinition</span> <span class="o">=</span> <span class="s">"jsonb"</span><span class="o">)</span>
<span class="kd">private</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;&gt;</span> <span class="n">stats</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span> 
</code></pre></div></div>

<h2 id="hashmap">HashMap</h2>
<blockquote>
  <p>Below is an example using a HashMap and listed are some key things to consider when using this data structure.</p>
</blockquote>

<ol>
  <li>
    <p>Hashing: HashMap uses a hash function to map keys to their corresponding buckets. The hash function is used to compute the index of the array where the key-value pair should be stored. A good hash function should generate a unique hash code for each key, but collisions (i.e., two keys with the same hash code) can still occur.  Hash map in Java does not maintain insertion order either by key or by the order inserted.</p>
  </li>
  <li>
    <p>Performance: HashMap provides constant-time performance (O(1)) for get() and put() operations, as long as the hash function is well-distributed and there are no hash collisions. However, in the worst case, the performance of a HashMap can degrade to O(n), where n is the number of elements in the map.</p>
  </li>
  <li>
    <p>Key and value types: HashMap allows any non-null object as a key, and any object (including null) as a value. However, to use a class as a key, it must implement the equals() and hashCode() methods. HashMap uses the equals() method to check if two keys are equal, and the hashCode() method to generate the hash code for the key.</p>
  </li>
  <li>
    <p>Iteration: HashMap provides several ways to iterate over the key-value pairs in the map, including using keySet(), values(), and entrySet(). The entrySet() method returns a Set view of the key-value pairs in the map, which can be used to iterate over the pairs and modify the map as you go.</p>
  </li>
  <li>
    <p>Thread safety: HashMap is not thread-safe, which means that if multiple threads access the same HashMap instance concurrently and at least one thread modifies the map structurally, the behavior is undefined. To make a HashMap thread-safe, you can use the ConcurrentHashMap class instead, which provides concurrent access and is designed for high concurrency. In a Full Stack project it would be best to use a NoSQL database to avoid concurrency issues.</p>
  </li>
</ol>

<pre><code class="language-Java">
public class Pet  {
    // Instance data
	private final String name;
	private final int age;
	private final String color;

	/* constructor
	 *
	 */
	public Pet(String name, int age, String color)
	{
		this.name = name;
		this.age = age;
		this.color = color;
	}

	public String getName() { return this.name; }
	public int getAge() { return this.age; }
	public String getColor() { return this.color; }

}
</code></pre>

<pre><code class="language-Java">import java.util.HashMap;

public class Pets {
    // create a new HashMap
    HashMap&lt;String, Pet&gt; names = new HashMap&lt;&gt;();

    /* Add Pets
     * 
     */
    public Pets() {
        // add some key-value pairs to the HashMap
        names.put("Leo", new Pet("Lion", 8, "Gold"));
        names.put("Porky", new Pet("Pig", 3, "Pink"));
        names.put("Ro-Ro", new Pet("Robin", 7, "Red"));
        names.put("Midnight", new Pet("Cat", 10, "Black"));
        names.put("Hobbes", new Pet("Kitty", 1, "Calico"));
        names.put("Duke", new Pet("Dog", 14, "Brown"));
    } 

    /* Remove Pet
     * 
     */
    public Pet remove(String key) {
        // check if a key exists in the HashMap then remove
        Pet pet = null;
        if (names.containsKey(key)) {
            pet = names.get(key);
            names.remove(key);
        }
        return pet;
    }

    /* Print Pets
     * 
     */
    public void print() {
        // iterate over the keys in the HashMap
        for (String name: names.keySet()) {
            Pet obj = names.get(name);
            System.out.println(name + " is a " + obj.getColor() + " " + obj.getName() + " and is " + obj.getAge() + " years old.");
        }
        System.out.println();
    }

    /* Tester Method
     * 
     */
    public static void main(String[] args) {

        // intialize Pets
        Pets pets = new Pets();
        pets.print();
        
        // remove a Pet
        String key = "Hobbes";
        Pet pet = pets.remove(key);
        if (pet == null) {
            System.out.println(key + " not found");
        } else {
            System.out.println("Removed: " + key + ", " + pet);
        }
        pets.print();

    }
}
Pets.main(null);
</code></pre>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Hobbes is a Calico Kitty and is 1 years old.
Leo is a Gold Lion and is 8 years old.
Porky is a Pink Pig and is 3 years old.
Ro-Ro is a Red Robin and is 7 years old.
Duke is a Brown Dog and is 14 years old.
Midnight is a Black Cat and is 10 years old.

Removed: Hobbes, REPL.$JShell$34$Pet@5f7d8bd3
Leo is a Gold Lion and is 8 years old.
Porky is a Pink Pig and is 3 years old.
Ro-Ro is a Red Robin and is 7 years old.
Duke is a Brown Dog and is 14 years old.
Midnight is a Black Cat and is 10 years old.
</code></pre></div></div>

<h2 id="hashset">HashSet</h2>
<blockquote>
  <p>Below is an example using a java.util.Set and listed are some key things to consider when using this data structure.  A Set works similarly to a key in a HashMap, a Set is just the Key.</p>
</blockquote>

<ol>
  <li>
    <p>No duplicates: A Set does not allow duplicate elements. If you try to add an element that already exists in the Set, the add() method will return false and the Set will not be modified.  Duplicate add is shown in example.</p>
  </li>
  <li>
    <p>Unordered: A Set does not maintain the insertion order of elements. The order of elements in a Set may change as elements are added or removed.</p>
  </li>
  <li>
    <p>Equality: Two Sets are considered equal if they have the same elements, regardless of their order. The equals() method is used to test for Set equality.</p>
  </li>
  <li>
    <p>Implementation classes: Java provides several implementation classes for the Set interface, including HashSet, LinkedHashSet, and TreeSet. Each implementation has different performance characteristics and is optimized for different use cases.</p>
  </li>
  <li>
    <p>Iterator: The iterator() method can be used to iterate over the elements in a Set. The order in which elements are returned by the iterator is not defined and may change over time as elements are added or removed from the Set. The forEach() method is another way to iterate over the elements in a Set, and it allows you to pass a lambda expression to process each element in the Set.  Lambda expression is shown in example.</p>
  </li>
</ol>

<pre><code class="language-Java">import java.util.HashSet;
import java.util.Set;

public class petset {
    public static void main(String[] args) {
        // create a new HashSet
        Set&lt;String&gt; pets = new HashSet&lt;&gt;();

        // add some elements to the Set
        pets.add("lion");
        pets.add("dog");
        pets.add("cat");

        // print out the Set
        System.out.println(pets);

        // check if an element is in the Set
        boolean hasLion = pets.contains("lion");
        System.out.println("Has lion: " + hasLion);

        // remove an element from the Set
        pets.remove("lion");
        System.out.println("Removed lion");

        // print out the Set
        System.out.println(pets);

        // add duplicate
        System.out.println("add duplicate dog");
        pets.add("dog");  // no action
        System.out.println(pets);
        // add duplicate
        System.out.println("add pig");
        pets.add("pig");
        System.out.println(pets);

        // using forEach() method with a lambda expression
        pets.forEach(animal -&gt; {
            String message = "I ";
            // ternary operation for like, don't like
            message += animal.equals("dog") ? "like" : "don't like";
            // complete sentance
            message += " " + animal + "s " + "for pets";
            System.out.println(message);
        });

    }
}
petset.main(null);

</code></pre>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[cat, dog, lion]
Has lion: true
Removed lion
[cat, dog]
add duplicate dog
[cat, dog]
add pig
[cat, dog, pig]
I don't like cats for pets
I like dogs for pets
I don't like pigs for pets
</code></pre></div></div>

<h2 id="hacks">Hacks</h2>
<p>Build your own Hashmap and HashSet.</p>

  </div><a class="u-url" href="/teacher_portfolio/2023/12/01/java_HashMap_IPYNB_2_.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
    <data class="u-url" href="/teacher_portfolio/"></data>
  
    <div class="wrapper">
  
      <div class="footer-col-wrapper">
  
        <div class="social-links"><ul class="social-media-list"><li>
  <a rel="me" href="https://github.com/nighthawkcoders/teacher_portfolio" target="_blank" title="github">
    <svg class="svg-icon grey">
      <use xlink:href="/teacher_portfolio/assets/minima-social-icons.svg#github"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://x.com/NighthawkCoding/" target="_blank" title="x">
    <svg class="svg-icon grey">
      <use xlink:href="/teacher_portfolio/assets/minima-social-icons.svg#x"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://www.youtube.com/@nighthawkcodingsociety2868" target="_blank" title="youtube">
    <svg class="svg-icon grey">
      <use xlink:href="/teacher_portfolio/assets/minima-social-icons.svg#youtube"></use>
    </svg>
  </a>
</li>
</ul>
</div>

      </div>
    </div>
  
  </footer></body>

</html>
